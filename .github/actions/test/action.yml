name: Test
description: Test action

inputs:
  is_ephemeral:
    description: 'Is an ephemeral environment?'
    required: true
    type: boolean

runs:
  using: "composite"
  steps:
    - shell: bash
      env:
        IS_EPHEMERAL: ${{ inputs.is_ephemeral }}
      run: |
        echo "TF_VAR_is_ephemeral=$IS_EPHEMERAL" >> $GITHUB_ENV

    - shell: bash
      run: |
        echo TF_VAR_is_ephemeral = $TF_VAR_IS_EPHEMERAL

    - shell: bash
      if: inputs.is_ephemeral == 'true'
      run: echo is an ephemeral environment

    - shell: bash
      if: inputs.is_ephemeral == 'false'
      run: echo is not an ephemeral environment
